const s=window.localStorage.getItem("spacebounce");const i={1:'Red',2:'Blue'};const t={token:'thr1.AAAAAGP129WLYgI-9NdWqA.d_SzwiQRVoA',noPlayer:true,maxPlayers:13,roomName:'ðŸ¤œðŸ¿ Wrangle ð’ðð€ð‚ð„ððŽð”ðð‚ð„ v1.0',"public":true,geo:{code:'eg',lat:40,lon:-3}};const n={"default":['[[playerName]] has scored a goal for the [[team]] team'],og:['an own goal from [[playerName]] for the [[team]] team']};const o={touch:{name:null,id:null,team:null},assist:{name:null,id:null},setTouch(t){this.touch.name=t.name;this.touch.team=t.team;this.touch.id=t.id},setAssist(t){this.assist.name=t.name;this.assist.id=t.id},dispose(){this.touch.name=this.touch.id=this.touch.team=this.assist.name=this.assist.id=null}};const l=HBInit(t);l.setTeamsLock(true);l.setCustomStadium(s);l.onStadiumChange=(t,e)=>{if(e!=null){l.setCustomStadium(s)}};l.onPlayerJoin=t=>{updateAdmins()};l.onPlayerLeave=t=>{updateAdmins()};l.onGameTick=()=>{const e=l.getPlayerList().filter(t=>t.team!=0);const s=l.getDiscProperties(0);for(let t=0;t<e.length;t++){const a=l.getPlayerDiscProperties(e[t].id);if(distance(a,s)<=a.radius+s.radius+2){updateBallProperties(e[t])}}};l.onPlayerBallKick=t=>{updateBallProperties(t)};l.onPositionsReset=()=>{o.dispose()};l.onGameStop=t=>{o.dispose()};l.onTeamGoal=t=>{const e=isOwnGoal(t);const s=e?'ðŸŸ£':t==1?'ðŸ”´':'ðŸ”µ';const a=l.getScores();l.sendAnnouncement(`${s} ${(e?n.og[0]:n["default"][0]).replace('[[team]]',i[t]).replace('[[playerName]]',o.touch.name)}${e?'':o.assist.id?` with ${o.assist.name}'s assist`:''} [${a.red} - ${a.blue}] ${s}`,null,e?9531647:t==1?16727614:2201331)};function distance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function updateBallProperties(t){if(t.id!=o.touch.id){if(t.team==o.touch.team){o.setAssist(o.touch)}else{o.setAssist({id:null,name:null})}o.setTouch(t)}}function isOwnGoal(t){return o.touch.team!=t}function updateAdmins(){var t=l.getPlayerList();if(t.length==0)return;if(t.find(t=>t.admin)!=null)return;l.setPlayerAdmin(t[0].id,true)}
