const n=window.localStorage.getItem("map");const a={1:'Red',2:'Blue'};const t={token:'thr1.AAAAAGP129WLYgI-9NdWqA.d_SzwiQRVoA',noPlayer:true,maxPlayers:13,roomName:'🤜🏿 Wrangle 𝐒𝐏𝐀𝐂𝐄𝐁𝐎𝐔𝐍𝐂𝐄 v1.0',"public":true,geo:{code:'eg',
// lat: 40,
// lon: -3,
lat:38,lon:27}};const i={'default':['[[playerName]] has scored a goal for the [[team]] team'],og:['an own goal from [[playerName]] for the [[team]] team']};const o={touch:{name:null,id:null,team:null},assist:{name:null,id:null},setTouch:function(t){this.touch.name=t.name;this.touch.team=t.team;this.touch.id=t.id},setAssist:function(t){this.assist.name=t.name;this.assist.id=t.id},dispose:function(){this.touch.name=this.touch.id=this.touch.team=this.assist.name=this.assist.id=null}};const u=HBInit(t);u.setTeamsLock(true);u.setCustomStadium(n);u.onStadiumChange=function(t,e){if(e!=null){u.setCustomStadium(n)}};u.onPlayerJoin=function(t){updateAdmins()};u.onPlayerLeave=function(t){updateAdmins()};u.onGameTick=function(){const e=u.getPlayerList().filter(t=>t.team!=0);const n=u.getDiscProperties(0);for(let t=0;t<e.length;t++){const s=u.getPlayerDiscProperties(e[t].id);if(distance(s,n)<=s.radius+n.radius+2){updateBallProperties(e[t])}}};u.onPlayerBallKick=function(t){updateBallProperties(t)};u.onPositionsReset=function(){o.dispose()};u.onGameStop=function(t){o.dispose()};u.onTeamGoal=function(t){const e=isOwnGoal(t);const n=e?'🟣':t==1?'🔴':'🔵';const s=u.getScores();u.sendAnnouncement(n+' '+(e?i['og'][0]:i['default'][0]).replace('[[team]]',a[t]).replace('[[playerName]]',o.touch.name)+(e?'':o.assist.id?' with '+o.assist.name+'\'s assist':'')+' ['+s.red+' - '+s.blue+']'+' '+n,null,e?9531647:t==1?16727614:2201331)};function distance(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function updateBallProperties(t){if(t.id!=o.touch.id){if(t.team==o.touch.team){o.setAssist(o.touch)}else{o.setAssist({id:null,name:null})}o.setTouch(t)}}function isOwnGoal(t){return o.touch.team!=t}function updateAdmins(){var t=u.getPlayerList();if(t.length==0)return;if(t.find(t=>t.admin)!=null)return;u.setPlayerAdmin(t[0].id,true)}
